{{!< default}}

{{#post}}
<article class="post-content {{post_class}} {{#unless feature_image}}no-image{{/unless}}">

    <header class="post-column">
        <h1 class="post-content-title">{{title}}</h1>
    </header>

    {{#if custom_excerpt}}
        <div class="post-column">
          <p class="post-content-excerpt">{{custom_excerpt}}</p>
        </div>
    {{/if}}

    {{#if feature_image}}
    <div class="post-column">
      <div class="post-content-image">
          <img class="kg-image" src="{{feature_image}}" alt="{{title}}" />
      </div>
    </div>
    {{/if}}

    <div class="post-column">
      <div class="post-content-body">
          {{content}}
      </div>
    </div>

  <div class="post-endmark">
    <span class="dot"></span>
  </div>

  <!-- {{#get "posts" limit="3"}}
      <nav class="menu">
        <span class="menu-header">Here's some work</span>
        {{#foreach posts}}
          <a href="{{url}}" class="menu__link">{{title}}</a>
        {{/foreach}}
      </nav>
  {{/get}} -->



</article>
{{/post}}

{{!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs --}}
{{#contentFor "scripts"}}
<script>
// Layout Script for Ghost Gallery Cards
var images = document.querySelectorAll('.kg-gallery-image img');
images.forEach(function (image) {
    var container = image.closest('.kg-gallery-image');
    var width = image.attributes.width.value;
    var height = image.attributes.height.value;
    var ratio = width / height;
    container.style.flex = ratio + ' 1 0%';
})
</script>
{{/contentFor}}
